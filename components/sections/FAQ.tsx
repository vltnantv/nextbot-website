"use client";

import { useState } from "react";
import { motion } from "framer-motion";
import { FAQItem } from "@/components/ui/FAQItem";
import { Button } from "@/components/ui/button";
import { cn } from "@/lib/utils";

// ---------------------------------------------------------------------------
// Animation variants
// ---------------------------------------------------------------------------

const stagger = {
  hidden: {},
  visible: {
    transition: { staggerChildren: 0.05 },
  },
};

const fadeUp = {
  hidden: { opacity: 0, y: 30 },
  visible: {
    opacity: 1,
    y: 0,
    transition: { duration: 0.6, ease: "easeOut" },
  },
};

const pillStagger = {
  hidden: {},
  visible: {
    transition: { staggerChildren: 0.08 },
  },
};

const pillFade = {
  hidden: { opacity: 0, scale: 0.95 },
  visible: {
    opacity: 1,
    scale: 1,
    transition: { duration: 0.4, ease: "easeOut" },
  },
};

// ---------------------------------------------------------------------------
// Types
// ---------------------------------------------------------------------------

type Category = "all" | "service" | "technical" | "security" | "pricing" | "human";

interface FAQData {
  id: string;
  category: Category;
  question: string;
  answer: React.ReactNode;
}

interface CategoryConfig {
  id: Category;
  label: string;
  badgeColor: string;
}

// ---------------------------------------------------------------------------
// Data
// ---------------------------------------------------------------------------

const CATEGORIES: CategoryConfig[] = [
  { id: "all", label: "–í—Å–∏—á–∫–∏", badgeColor: "" },
  { id: "service", label: "–ó–∞ —É—Å–ª—É–≥–∞—Ç–∞", badgeColor: "bg-blue-100 text-blue-700" },
  { id: "technical", label: "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ", badgeColor: "bg-gray-100 text-gray-700" },
  { id: "security", label: "–°–∏–≥—É—Ä–Ω–æ—Å—Ç", badgeColor: "bg-green-100 text-green-700" },
  { id: "pricing", label: "–¶–µ–Ω–∞", badgeColor: "bg-yellow-100 text-yellow-700" },
  { id: "human", label: "–•–æ—Ä–∞", badgeColor: "bg-orange-100 text-orange-700" },
];

const FAQ_DATA: FAQData[] = [
  // –ö–ê–¢–ï–ì–û–†–ò–Ø 1: –ó–∞ —É—Å–ª—É–≥–∞—Ç–∞
  {
    id: "q1",
    category: "service",
    question: "–ö–∞–∫–≤–æ —Ç–æ—á–Ω–æ –ø—Ä–∞–≤–∏ AI –∞—Å–∏—Å—Ç–µ–Ω—Ç—ä—Ç?",
    answer:
      "AI –∞—Å–∏—Å—Ç–µ–Ω—Ç—ä—Ç –æ—Ç–≥–æ–≤–∞—Ä—è –Ω–∞ –≤—ä–ø—Ä–æ—Å–∏—Ç–µ –Ω–∞ –≤–∞—à–∏—Ç–µ –≥–æ—Å—Ç–∏ –∏–ª–∏ –∫–ª–∏–µ–Ω—Ç–∏ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ, 24 —á–∞—Å–∞ –≤ –¥–µ–Ω–æ–Ω–æ—â–∏–µ—Ç–æ. –ö–æ–≥–∞—Ç–æ –≥–æ—Å—Ç –ø–∏—à–µ '–ò–º–∞—Ç–µ –ª–∏ —Å–≤–æ–±–æ–¥–Ω–∏ —Å—Ç–∞–∏ –∑–∞ 15 —é–Ω–∏?', –±–æ—Ç—ä—Ç –æ—Ç–≥–æ–≤–∞—Ä—è –≤–µ–¥–Ω–∞–≥–∞ —Å –Ω–∞–ª–∏—á–Ω–æ—Å—Ç, —Ü–µ–Ω–∏ –∏ –æ–ø—Ü–∏—è –∑–∞ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—è. –í—Å–∏—á–∫–æ –∫–æ–µ—Ç–æ –Ω–æ—Ä–º–∞–ª–Ω–æ –ø—Ä–∞–≤–∏ —Ä–µ—Ü–µ–ø—Ü–∏–æ–Ω–∏—Å—Ç—ä—Ç –∑–∞ —Ä—É—Ç–∏–Ω–Ω–∏ –≤—ä–ø—Ä–æ—Å–∏.",
  },
  {
    id: "q2",
    category: "service",
    question: "–ö–æ–ª–∫–æ –µ —É–º–µ–Ω? –©–µ —Ä–∞–∑–±–µ—Ä–µ –ª–∏ —Å–ª–æ–∂–Ω–∏ –≤—ä–ø—Ä–æ—Å–∏?",
    answer:
      "–ò–∑–ø–æ–ª–∑–≤–∞–º–µ Claude 4.5 - –µ–¥–∏–Ω –æ—Ç –Ω–∞–π-–Ω–∞–ø—Ä–µ–¥–Ω–∞–ª–∏—Ç–µ AI –º–æ–¥–µ–ª–∏ –≤ —Å–≤–µ—Ç–∞. –†–∞–∑–±–∏—Ä–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç, nuance –∏ –¥–æ—Ä–∏ —Å–ª–æ–∂–Ω–∏ –≤—ä–ø—Ä–æ—Å–∏. –ê–∫–æ –≥–æ—Å—Ç –ø–∏—à–µ '–∏–º–∞–º–µ –∫—É—á–µ, –º–æ–∂–µ –ª–∏?' –Ω–∞ —Å—á—É–ø–µ–Ω –∞–Ω–≥–ª–∏–π—Å–∫–∏ - –±–æ—Ç—ä—Ç —Ä–∞–∑–±–∏—Ä–∞ –∏ –æ—Ç–≥–æ–≤–∞—Ä—è –ø—Ä–∞–≤–∏–ª–Ω–æ. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–æ—Ç–æ –∫–æ–µ—Ç–æ –Ω–µ –ø—Ä–∞–≤–∏: –≤–∑–∏–º–∞ –≤–∞–∂–Ω–∏ —Ä–µ—à–µ–Ω–∏—è –±–µ–∑ –≤–∞—Å. –ü—Ä–∏ —Å–ª–æ–∂–Ω–∏ —Å–ª—É—á–∞–∏ –≤–µ–¥–Ω–∞–≥–∞ –ø—Ä–µ—Ö–≤—ä—Ä–ª—è –∫—ä–º –≤–∞—Å.",
  },
  {
    id: "q3",
    category: "service",
    question: "–ù–∞ –∫–æ–ª–∫–æ –µ–∑–∏–∫–∞ –≥–æ–≤–æ—Ä–∏?",
    answer:
      "–ü–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ: –ë—ä–ª–≥–∞—Ä—Å–∫–∏ –∏ –ê–Ω–≥–ª–∏–π—Å–∫–∏. –° –¥–æ–±–∞–≤–∫–∞ –æ—Ç 49 –ª–≤/–º–µ—Å–µ—Ü: –ù–µ–º—Å–∫–∏ –∏–ª–∏ –†—É—Å–∫–∏. –†–∞–∑–ø–æ–∑–Ω–∞–≤–∞ –µ–∑–∏–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—Ç –ø—ä—Ä–≤–æ—Ç–æ —Å—ä–æ–±—â–µ–Ω–∏–µ –∏ –æ—Ç–≥–æ–≤–∞—Ä—è –Ω–∞ —Å—ä—â–∏—è. –ì–æ—Å—Ç –ø–∏—à–µ –Ω–∞ –Ω–µ–º—Å–∫–∏ ‚Üí –ø–æ–ª—É—á–∞–≤–∞ –æ—Ç–≥–æ–≤–æ—Ä –Ω–∞ –Ω–µ–º—Å–∫–∏.",
  },
  {
    id: "q4",
    category: "service",
    question: "–ú–æ–∂–µ –ª–∏ –¥–∞ –≤–∑–µ–º–∞ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏–∏?",
    answer:
      "–î–∞! –ë–æ—Ç—ä—Ç –º–æ–∂–µ –¥–∞ —Å—ä–±–∏—Ä–∞ –¥–∞–Ω–Ω–∏ –∑–∞ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—è (–¥–∞—Ç–∏, –±—Ä–æ–π –≥–æ—Å—Ç–∏, —Ç–∏–ø —Å—Ç–∞—è), –¥–∞ –ø–æ–∫–∞–∑–≤–∞ —Ü–µ–Ω–∏, –∏ –¥–∞ –∏–∑–ø—Ä–∞—â–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è—Ç–∞ –¥–∏—Ä–µ–∫—Ç–Ω–æ –∫—ä–º –≤–∞—Å –∏–ª–∏ –≤–∞—à–∞—Ç–∞ booking —Å–∏—Å—Ç–µ–º–∞. –ó–∞–≤–∏—Å–∏ –æ—Ç –Ω–∏–≤–æ—Ç–æ –Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–µ—Ç–æ –∏–∑–±–µ—Ä–µ—Ç–µ.",
  },

  // –ö–ê–¢–ï–ì–û–†–ò–Ø 2: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ
  {
    id: "q5",
    category: "technical",
    question: "–¢—Ä—è–±–≤–∞ –ª–∏ –¥–∞ —Å–º–µ–Ω—è–º —Å–∞–π—Ç–∞ –∏–ª–∏ —Å–∏—Å—Ç–µ–º–∏—Ç–µ —Å–∏?",
    answer:
      "–ù–µ. –î–æ–±–∞–≤—è–º–µ —Å–∞–º–æ –µ–¥–∏–Ω –º–∞–ª—ä–∫ –∫–æ–¥ –≤ —Å–∞–π—Ç–∞ –≤–∏ (–∫–∞—Ç–æ Google Analytics - –∫–æ–ø–∏—Ä–∞—Ç–µ –∏ –ø–æ—Å—Ç–∞–≤—è—Ç–µ). –û—Ç–Ω–µ–º–∞ 5 –º–∏–Ω—É—Ç–∏, –Ω–µ –∏–∑–∏—Å–∫–≤–∞ –ø—Ä–æ–≥—Ä–∞–º–∏—Å—Ç. –ê–∫–æ –∏–º–∞—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–∏—Å—Ç –∏–ª–∏ —É–µ–± –∞–≥–µ–Ω—Ü–∏—è - –∏–∑–ø—Ä–∞—â–∞–º–µ –∏–º –¥–∏—Ä–µ–∫—Ç–Ω–æ –∏ —Ç–µ –≥–æ –ø—Ä–∞–≤—è—Ç –∑–∞ –º–∏–Ω—É—Ç–∏.",
  },
  {
    id: "q6",
    category: "technical",
    question: "–ö–∞–∫–≤–æ —Å–µ —Å–ª—É—á–≤–∞ –∞–∫–æ –±–æ—Ç—ä—Ç –Ω–µ –∑–Ω–∞–µ –æ—Ç–≥–æ–≤–æ—Ä–∞?",
    answer:
      "–ò–º–∞–º–µ 3-—Å—Ç–µ–ø–µ–Ω–Ω–∞ —Å–∏—Å—Ç–µ–º–∞: 1) –ë–æ—Ç—ä—Ç –æ–ø–∏—Ç–≤–∞ –¥–∞ –æ—Ç–≥–æ–≤–æ—Ä–∏ –æ—Ç knowledge base-–∞. 2) –ê–∫–æ –Ω–µ –º–æ–∂–µ ‚Üí –¥–∞–≤–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–µ–Ω –æ—Ç–≥–æ–≤–æ—Ä –∏ –ø—Ä–µ–¥–ª–∞–≥–∞ –¥–∞ —Å–µ —Å–≤—ä—Ä–∂–∞—Ç —Å –≤–∞—Å –¥–∏—Ä–µ–∫—Ç–Ω–æ. 3) –í–∏–µ –ø–æ–ª—É—á–∞–≤–∞—Ç–µ notification –∏ –º–æ–∂–µ—Ç–µ –¥–∞ –æ—Ç–≥–æ–≤–æ—Ä–∏—Ç–µ –ª–∏—á–Ω–æ. –ì–æ—Å—Ç–∏—Ç–µ –Ω–∏–∫–æ–≥–∞ –Ω–µ –æ—Å—Ç–∞–≤–∞—Ç –±–µ–∑ –æ—Ç–≥–æ–≤–æ—Ä.",
  },
  {
    id: "q7",
    category: "technical",
    question: "–†–∞–±–æ—Ç–∏ –ª–∏ –Ω–∞ –º–æ–±–∏–ª–µ–Ω?",
    answer:
      "–î–∞, –Ω–∞–ø—ä–ª–Ω–æ. –†–∞–±–æ—Ç–∏ –Ω–∞ –≤—Å–∏—á–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ –±—Ä–∞—É–∑—ä—Ä–∏. –í–∫–ª—é—á–∏—Ç–µ–ª–Ω–æ WhatsApp (—Å –¥–æ–±–∞–≤–∫–∞) - –∫–æ–µ—Ç–æ –µ –æ—Å–Ω–æ–≤–Ω–∏—è—Ç –∫–∞–Ω–∞–ª –∑–∞ –∫–æ–º—É–Ω–∏–∫–∞—Ü–∏—è –≤ –ë—ä–ª–≥–∞—Ä–∏—è.",
  },
  {
    id: "q8",
    category: "technical",
    question: "–ö–æ–ª–∫–æ –≤—Ä–µ–º–µ –æ—Ç–Ω–µ–º–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ç–∞?",
    answer:
      "2-3 —Ä–∞–±–æ—Ç–Ω–∏ –¥–Ω–∏. –î–µ–Ω 1: —Ä–∞–∑–≥–æ–≤–æ—Ä —Å –≤–∞—Å –∑–∞ –¥–∞ —Ä–∞–∑–±–µ—Ä–µ–º –±–∏–∑–Ω–µ—Å–∞. –î–µ–Ω 2-3: –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–º–µ –∏ —Ç–µ—Å—Ç–≤–∞–º–µ. –î–µ–Ω 4: live. –í–∏–µ –Ω–µ –ø—Ä–∞–≤–∏—Ç–µ –Ω–∏—â–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ.",
  },

  // –ö–ê–¢–ï–ì–û–†–ò–Ø 3: –°–∏–≥—É—Ä–Ω–æ—Å—Ç –∏ –ø–æ–≤–µ—Ä–∏—Ç–µ–ª–Ω–æ—Å—Ç
  {
    id: "q9",
    category: "security",
    question: "–ë–µ–∑–æ–ø–∞—Å–Ω–∏ –ª–∏ —Å–∞ –¥–∞–Ω–Ω–∏—Ç–µ –Ω–∞ –≥–æ—Å—Ç–∏—Ç–µ –Ω–∏?",
    answer:
      "–î–∞. GDPR fully compliant - —Å–ª–µ–¥–≤–∞–º–µ –≤—Å–∏—á–∫–∏ –µ–≤—Ä–æ–ø–µ–π—Å–∫–∏ –∏–∑–∏—Å–∫–≤–∞–Ω–∏—è –∑–∞ –∑–∞—â–∏—Ç–∞ –Ω–∞ –¥–∞–Ω–Ω–∏. –î–∞–Ω–Ω–∏—Ç–µ —Å–∞ –∫—Ä–∏–ø—Ç–∏—Ä–∞–Ω–∏ –∏ —Å–µ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞—Ç –Ω–∞ –µ–≤—Ä–æ–ø–µ–π—Å–∫–∏ —Å—ä—Ä–≤—ä—Ä–∏. –ù–µ –ø—Ä–æ–¥–∞–≤–∞–º–µ –∏ –Ω–µ —Å–ø–æ–¥–µ–ª—è–º–µ –¥–∞–Ω–Ω–∏. –ò–º–∞—Ç–µ –ø—Ä–∞–≤–æ –Ω–∞ –ø—ä–ª–µ–Ω export –∏ –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ –≤—Å–∏—á–∫–æ –ø–æ –≤—Å—è–∫–æ –≤—Ä–µ–º–µ.",
  },
  {
    id: "q10",
    category: "security",
    question: "–ú–æ–∂–µ –ª–∏ –¥–∞ —Å–µ hack-–Ω–µ –∏–ª–∏ –¥–∞ –±—ä–¥–µ –æ–±—ä—Ä–∫–∞–Ω –æ—Ç –∑–ª–æ–Ω–∞–º–µ—Ä–µ–Ω–∏ —Ö–æ—Ä–∞?",
    answer:
      "–ò–º–∞–º–µ –∑–∞—â–∏—Ç–∏ —Å—Ä–µ—â—É prompt injection –∏ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–∏. –ë–æ—Ç—ä—Ç –Ω–µ –ø—Ä–∞–≤–∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ –∏ –Ω–µ –¥–∞–≤–∞ –ø–æ–≤–µ—Ä–∏—Ç–µ–ª–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è. –í 2 –≥–æ–¥–∏–Ω–∏ —Ä–∞–±–æ—Ç–∞ —Å AI –±–æ—Ç–æ–≤–µ –Ω–µ —Å–º–µ –∏–º–∞–ª–∏ security incident. –ù–æ –∑–∞ 100% —Å–∏–≥—É—Ä–Ω–æ—Å—Ç - —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∏—Ç–µ –∏ –ª–∏—á–Ω–∏ –¥–∞–Ω–Ω–∏ –≤–∏–Ω–∞–≥–∏ –º–∏–Ω–∞–≤–∞—Ç –ø—Ä–µ–∑ –≤–∞—à–∏—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–∏ —Å–∏—Å—Ç–µ–º–∏.",
  },

  // –ö–ê–¢–ï–ì–û–†–ò–Ø 4: –¶–µ–Ω–∞ –∏ –¥–æ–≥–æ–≤–æ—Ä
  {
    id: "q11",
    category: "pricing",
    question: "–ò–º–∞ –ª–∏ –ø—Ä–æ–±–µ–Ω –ø–µ—Ä–∏–æ–¥?",
    answer:
      "–î–∞, –ø—Ä–µ–¥–ª–∞–≥–∞–º–µ 30-–¥–Ω–µ–≤–µ–Ω –ø–∏–ª–æ—Ç–µ–Ω –ø–µ—Ä–∏–æ–¥ —Å —Ä–µ–∞–ª–µ–Ω –±–æ—Ç –∏ —Ä–µ–∞–ª–Ω–∏ –≥–æ—Å—Ç–∏. –§–∏–ª–æ—Å–æ—Ñ–∏—è—Ç–∞ –Ω–∏: –∞–∫–æ –Ω–µ –¥–æ–∫–∞–∂–µ–º —Å—Ç–æ–π–Ω–æ—Å—Ç –∑–∞ 30 –¥–Ω–∏, –Ω–µ –∑–∞—Å–ª—É–∂–∞–≤–∞–º–µ –ø–∞—Ä–∏—Ç–µ –≤–∏.",
  },
  {
    id: "q12",
    category: "pricing",
    question: "–ú–æ–≥–∞ –ª–∏ –¥–∞ —Å–ø—Ä–∞ –ø–æ –≤—Å—è–∫–æ –≤—Ä–µ–º–µ?",
    answer:
      "–î–∞. –ë–µ–∑ –¥—ä–ª–≥–∏ –¥–æ–≥–æ–≤–æ—Ä–∏, –±–µ–∑ –Ω–µ—É—Å—Ç–æ–π–∫–∏. 30-–¥–Ω–µ–≤–Ω–æ –ø—Ä–µ–¥–∏–∑–≤–µ—Å—Ç–∏–µ –∏ —Å–ø–∏—Ä–∞–º–µ. –í—Å–∏—á–∫–∏—Ç–µ –≤–∏ –¥–∞–Ω–Ω–∏ –≤–∏ —Å–µ –∏–∑–ø—Ä–∞—â–∞—Ç –≤ Excel/CSV. –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–º–µ –¥–∞ –æ—Å—Ç–∞–Ω–µ—Ç–µ –∑–∞—â–æ—Ç–æ —Å–º–µ –¥–æ–±—Ä–∏, –Ω–µ –∑–∞—â–æ—Ç–æ —Å—Ç–µ –∑–∞–∫–ª—é—á–µ–Ω–∏.",
  },
  {
    id: "q13",
    category: "pricing",
    question: "–ó–∞—â–æ –¥–∞ –ø–ª–∞—â–∞–º –µ–∂–µ–º–µ—Å–µ—á–Ω–æ –≤–º–µ—Å—Ç–æ –µ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ?",
    answer:
      "–ó–∞—â–æ—Ç–æ AI –Ω–µ –µ –ø—Ä–æ–¥—É–∫—Ç - —É—Å–ª—É–≥–∞ –µ. –í—Å–µ–∫–∏ –º–µ—Å–µ—Ü: –æ–ø—Ç–∏–º–∏–∑–∏—Ä–∞–º–µ –æ—Ç–≥–æ–≤–æ—Ä–∏—Ç–µ, –¥–æ–±–∞–≤—è–º–µ –Ω–æ–≤–∏ scenarios, –æ–±–Ω–æ–≤—è–≤–∞–º–µ AI –º–æ–¥–µ–ª–∞, –º–æ–Ω–∏—Ç–æ—Ä–∏—Ä–∞–º–µ –∫–∞—á–µ—Å—Ç–≤–æ—Ç–æ. –ï–¥–Ω–æ–∫—Ä–∞—Ç–µ–Ω payment = —Å—Ç–∞—Ç–∏—á–µ–Ω –±–æ—Ç. –ï–∂–µ–º–µ—Å–µ—á–µ–Ω = –∂–∏–≤, —É—á–µ—â —Å–µ –∞—Å–∏—Å—Ç–µ–Ω—Ç.",
  },

  // –ö–ê–¢–ï–ì–û–†–ò–Ø 5: –ß–æ–≤–µ—à–∫–∏ —Ñ–∞–∫—Ç–æ—Ä
  {
    id: "q14",
    category: "human",
    question: "–ì–æ—Å—Ç–∏—Ç–µ –Ω—è–º–∞ –ª–∏ –¥–∞ —Å–µ –¥—Ä–∞–∑–Ω—è—Ç –æ—Ç –±–æ—Ç?",
    answer:
      "–î–∞–Ω–Ω–∏—Ç–µ –∫–∞–∑–≤–∞—Ç –æ–±—Ä–∞—Ç–Ω–æ—Ç–æ. 94% –æ—Ç —Ö–æ—Ä–∞—Ç–∞ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—Ç instant –æ—Ç–≥–æ–≤–æ—Ä –æ—Ç –±–æ—Ç —Å—Ä–µ—â—É —á–∞–∫–∞–Ω–µ 4-8 —á–∞—Å–∞ –∑–∞ —á–æ–≤–µ–∫. –ö–ª—é—á–æ–≤–æ—Ç–æ: –±–æ—Ç—ä—Ç –ù–ò–ö–û–ì–ê –Ω–µ —Å–µ –ø—Ä–µ—Å—Ç—Ä—É–≤–∞ –Ω–∞ —á–æ–≤–µ–∫. –ê–∫–æ –≥–æ—Å—Ç—ä—Ç –∏—Å–∫–∞ –¥–∞ –≥–æ–≤–æ—Ä–∏ —Å —á–æ–≤–µ–∫ - –≤–µ–¥–Ω–∞–≥–∞ –≥–æ —Å–≤—ä—Ä–∑–≤–∞–º–µ. –ú–Ω–æ–≥–æ —Ö–æ—Ç–µ–ª–∏ –Ω–∏ –∫–∞–∑–≤–∞—Ç: '–ì–æ—Å—Ç–∏—Ç–µ –ø–∏—Ç–∞—Ç –±–æ—Ç—ä—Ç –Ω–µ—â–∞, –∫–æ–∏—Ç–æ –Ω–µ –±–∏—Ö–∞ –ø–∏—Ç–∞–ª–∏ —Ä–µ—Ü–µ–ø—Ü–∏—è—Ç–∞ - —á—É–≤—Å—Ç–≤–∞—Ç —Å–µ –ø–æ-—Å–≤–æ–±–æ–¥–Ω–∏.'",
  },
  {
    id: "q15",
    category: "human",
    question: "–©–µ –∑–∞–≥—É–±—è—Ç –ª–∏ —Å–ª—É–∂–∏—Ç–µ–ª–∏—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç–∞ —Å–∏?",
    answer:
      "–ù–µ. –ë–æ—Ç—ä—Ç –ø–æ–µ–º–∞ —Ä—É—Ç–∏–Ω–Ω–∏—Ç–µ –≤—ä–ø—Ä–æ—Å–∏ (75% –æ—Ç –≤—Å–∏—á–∫–∏ –∑–∞–ø–∏—Ç–≤–∞–Ω–∏—è). –°–ª—É–∂–∏—Ç–µ–ª–∏—Ç–µ —Å–µ —Ñ–æ–∫—É—Å–∏—Ä–∞—Ç –≤—ä—Ä—Ö—É –Ω–µ—â–∞—Ç–∞ —Å —Ä–µ–∞–ª–Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç: –ª–∏—á–Ω–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ, —Å–ª–æ–∂–Ω–∏ –ø—Ä–æ–±–ª–µ–º–∏, VIP –≥–æ—Å—Ç–∏, –ø—Ä–æ–¥–∞–∂–±–∏. –í—Å–∏—á–∫–∏ –Ω–∞—à–∏ –∫–ª–∏–µ–Ω—Ç–∏ —Å–∞ –∑–∞–ø–∞–∑–∏–ª–∏ –µ–∫–∏–ø–∞ —Å–∏ - —Ç–æ–π –ø—Ä–æ—Å—Ç–æ —Ä–∞–±–æ—Ç–∏ –ø–æ-—É–º–Ω–æ.",
  },
];

// ---------------------------------------------------------------------------
// Main Component
// ---------------------------------------------------------------------------

export function FAQ() {
  const [activeCategory, setActiveCategory] = useState<Category>("all");

  // Filter FAQ items based on active category
  const filteredFAQs =
    activeCategory === "all"
      ? FAQ_DATA
      : FAQ_DATA.filter((faq) => faq.category === activeCategory);

  return (
    <section id="faq" className="bg-white py-32 max-md:py-20">
      <div className="container mx-auto max-w-[800px] px-4">
        {/* Header */}
        <motion.div
          className="mb-12 text-center"
          initial={{ opacity: 0, y: 30 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true, margin: "-100px" }}
          transition={{ duration: 0.6 }}
        >
          <p className="mb-3 text-xs font-semibold uppercase tracking-wider text-nextbot-cyan">
            –ß–µ—Å—Ç–∏ –≤—ä–ø—Ä–æ—Å–∏
          </p>
          <h2 className="text-[clamp(2rem,4vw,2.5rem)] font-bold text-nextbot-midnight">
            –ò–º–∞—Ç–µ –≤—ä–ø—Ä–æ—Å–∏? –ò–º–∞–º–µ –æ—Ç–≥–æ–≤–æ—Ä–∏.
          </h2>
        </motion.div>

        {/* Category filter pills */}
        <motion.div
          className="mb-10 flex flex-wrap items-center justify-center gap-2"
          variants={pillStagger}
          initial="hidden"
          whileInView="visible"
          viewport={{ once: true, margin: "-100px" }}
        >
          {CATEGORIES.map((category) => (
            <motion.button
              key={category.id}
              variants={pillFade}
              onClick={() => setActiveCategory(category.id)}
              className={cn(
                "rounded-full px-4 py-2 text-sm font-medium transition-all duration-200",
                activeCategory === category.id
                  ? "bg-nextbot-midnight text-white shadow-sm"
                  : "border border-nextbot-cloud bg-transparent text-gray-600 hover:border-nextbot-cyan hover:text-nextbot-midnight",
              )}
            >
              {category.label}
            </motion.button>
          ))}
        </motion.div>

        {/* FAQ Accordion */}
        <motion.div
          className="mb-12"
          variants={stagger}
          initial="hidden"
          whileInView="visible"
          viewport={{ once: true, margin: "-100px" }}
          key={activeCategory} // Re-trigger animation on category change
        >
          {filteredFAQs.map((faq) => (
            <motion.div key={faq.id} variants={fadeUp}>
              <FAQItem question={faq.question} answer={faq.answer} />
            </motion.div>
          ))}
        </motion.div>

        {/* Bottom CTA */}
        <motion.div
          className="rounded-3xl bg-nextbot-silver p-10 text-center max-md:p-8"
          initial={{ opacity: 0, y: 30 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true }}
          transition={{ duration: 0.6 }}
        >
          <h3 className="mb-2 text-xl font-semibold text-nextbot-midnight">
            –ù–µ –Ω–∞–º–µ—Ä–∏—Ö—Ç–µ –æ—Ç–≥–æ–≤–æ—Ä–∞?
          </h3>
          <p className="mb-6 text-base text-gray-600">
            –ü–∏—à–µ—Ç–µ –Ω–∏ –¥–∏—Ä–µ–∫—Ç–Ω–æ. –û—Ç–≥–æ–≤–∞—Ä—è–º–µ –¥–æ 2 —á–∞—Å–∞.
          </p>

          <div className="flex flex-wrap items-center justify-center gap-3 max-md:flex-col">
            <Button
              variant="primary"
              size="lg"
              className="rounded-full"
              onClick={() => {
                // Open Voiceflow chat widget
                if (typeof window !== "undefined" && (window as any).voiceflow) {
                  (window as any).voiceflow.chat.open();
                }
              }}
            >
              üí¨ –ß–∞—Ç —Å –Ω–∞—Å
            </Button>
            <a
              href="mailto:info@nextbot.me"
              className="inline-flex h-12 items-center justify-center gap-2 rounded-full border border-nextbot-cloud/20 bg-white/5 px-7 text-base font-medium text-nextbot-midnight backdrop-blur-sm transition-all duration-200 hover:border-nextbot-cyan/40 hover:bg-white/10"
            >
              ‚úâÔ∏è info@nextbot.me
            </a>
          </div>
        </motion.div>
      </div>
    </section>
  );
}
